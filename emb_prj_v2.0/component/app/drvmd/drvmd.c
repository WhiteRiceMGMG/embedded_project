/*********************************************************************************/
/* Copyright OGAWA CONST                                                         */
/*********************************************************************************/
/* file : drvmd  .c                                                              */
/* abst : ドライブモード調停                                                     */
/* hist : 2025 / 10 /04                                                          */
/*********************************************************************************/

/*********************************************************************************/
/* インクルードファイル                                                          */
/*********************************************************************************/

/*---------------------------------▼▼▼(要設定)--------------------------------*/

#include "ked_knl.h"
/* #include "../sampleif.h" */       /*自ヘッダでインクルードのためコメントアウト*/
/* #include "../devmdif.h"  */       /*自ヘッダでインクルードのためコメントアウト*/        
/* #include "../devmdif.h"  */       /*自ヘッダでインクルードのためコメントアウト*/   

/*---------------------------------▲▲▲(要設定)--------------------------------*/

/*********************************************************************************/
/* マクロ定義                                                                    */
/*********************************************************************************/

/*---------------------------------▼▼▼(要設定)--------------------------------*/
/* drvmd.hに記載のためコメントアウト */
/* #define DRVMDSW_STATUS_SUCESS (u1)1; */
/* #define DRVMDSW_STATUS_FAILED (u1)0; */
#define NUMBER_OF_DRVMD   (u1)4
#define NUMBER_OFDRVMDSW  (u1)2

enum 
{
    DRIVE_MODE_ECO    = 0,
    DRIVE_MODE_NORMAL = 1,
    DRIVE_MODE_SPORT  = 2,
    MODE_OVER_DRIVE   = 3
}


/*---------------------------------▲▲▲(要設定)--------------------------------*/

/*********************************************************************************/
/* 変数定義                                                                    */
/*********************************************************************************/

/*---------------------------------▼▼▼(要設定)--------------------------------*/
/* 現在のモードと押されたボタン(UP or DOWN)により次のモードに移行する． */
u1 NEXT_DRVMD_TBL[NUMVER_OF_DRVMD][NUMBER_OF_DRVMDSW] =
{ /* DOWN が押されたとき  UPが押されたとき     */
    {DRIVE_MODE_ECO,      DRIVE_MODE_NORMAL},   /* 現在モード : ECO    */
    {DRIVE_MODE_ECO,      DRIVE_MODE_SPORT },   /* 現在モード : NORMAL */
    {DRIVE_MODE_NORMAL,   MODE_OVER_DRIVE  },   /* 現在モード : SPORT  */
    {DRIVE_MODE_SPORT,    MODE_OVER_DRIVE. }    /* 現在モード : OVER_DRIVE(解放フルバースト) */
}
/*---------------------------------▲▲▲(要設定)--------------------------------*/

/*********************************************************************************/
/* コンポーネント外部公開関数定義                                                */
/*********************************************************************************/

/*---------------------------------▼▼▼(要設定)--------------------------------*/

/*********************************************************************************/
/* 関数   | vdg_ogw_get_drvmd( void )                                            */
/* 説明   | ドライブモード取得関数宣言                                           */
/* 引数   | なし                                                                 */
/* 戻り値 | なし                                                                 */
/* 作成   | 2025 / 10 /04                                                        */
/*********************************************************************************/

void vdg_ogw_get_drvmd( void )
{  
    u1 u1s_temp_pastdrvmd   = u1g_ogw_crtdrvmd;      /* 現在のドライブモード取得 */

    u1 u1s_temp_drvmdsw_pushed =  u1s_drvmdsw_conf();        /* ボタン押下を確認 */

    if((u1s_temp_drvmdsw_pushed == DRVMDSWUP_IS_PUSHED)
     ||(u1s_temp_drvmdsw_pushed == DRVMDSWDW_IS_PUSHED))
    {
        /* スイッチ種類と現在のモードを代入すると移行先のモードが設定される */
        u1g_ogw_crtdrvmd = NEXT_DRVMD_TBL[u1s_temp_pastdrvmd][u1s_temp_drvmdsw_pushed];
        
    }
}


/*---------------------------------▲▲▲(要設定)--------------------------------*/

/*********************************************************************************/
/* コンポーネント内部公開関数定義                                                */
/*********************************************************************************/

/*---------------------------------▼▼▼(要設定)--------------------------------*/

/*********************************************************************************/
/* 関数   | vds_ogw_sample_function1( void )                                     */
/* 説明   | サンプル関数1宣言                                                    */
/* 引数   | なし                                                                 */
/* 戻り値 | なし                                                                 */
/* 作成   | 2025 / 10 /03                                                        */
/*********************************************************************************/

static void vds_ogw_sample_function1( void )
{
    ;
}

/*********************************************************************************/
/* 関数   | u2s_ogw_sample_function2( u2 u2_sample )                             */
/* 説明   | サンプル関数2宣言                                                    */
/* 引数   | u2 u2_sample                                                         */
/* 戻り値 | u2                                                                   */
/* 作成   | 2025 / 10 /03                                                        */
/*********************************************************************************/

static u2 u2s_ogw_sample_function2( u2 u2_sample )
{
    ;
}

/*---------------------------------▲▲▲(要設定)--------------------------------*/

/*********************************************************************************/
/* EOF                                                                           */
/*********************************************************************************/